<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>An Agile Front End Workflow</title>

		<meta name="description" content="A presentation on an agile front end workflow">
		<meta name="author" content="Eric Smith" />

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">
		<link rel="stylesheet" href="css/custom.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<div class="slides">
                <section data-background="firebrick">
                    <h1>An Agile Front End Workflow</h1>
                    <img src="assets/candw.png" class="reset-img" />
                    <h3>Eric Smith</h3>
                    <p><a href="https://twitter.com/ericgsmith">@ericgsmith</a></p>
                    <aside class="notes">
                        Welcome etc. FED story.
                        How many people are excited about the agile part?
                        How many people are excited about the front end part?
                        Intro... I'm a developer and I get excited about solutions...
                        What I'll be showing you in the next 40 minutes is our new way of working
                        Talking about process, technology, etc.
                    </aside>
                </section>

                <section>
                    <section>
                        <h2>Project Timeline</h2>
                        <img src="assets/project-start.svg">
                        <aside class="notes">
                            Explain sprint 0, typical project lifetime.
                            Explain what typical scaling up is.
                        </aside>
                    </section>
                    <section>
                        <h2>Ticket Workflow</h2>
                        <img src="assets/ticket-workflow.svg">
                        <aside class="notes">
                            Talk through peer review, qa, done.
                        </aside>
                    </section>
                    <section>
                        <h2>The old way</h2>
                        <img class="stretch" src="assets/old-way.svg" />
                        <aside class="notes">
                            The way things have always been done.
                            Give examples eg a view (simple), search results (complex)
                            Talk about arrow = gap.
                        </aside>
                    </section>
                    <section>
                        <h2>The Process Problem</h2>
                        <ul>
                            <li class="fragment">Development is a bottleneck</li>
                            <li class="fragment">Theming at the end creates pressure</li>
                        </ul>
                        <img src="assets/project-sprint-5.svg">
                        <aside class="notes">
                            Themer twiddles thumbs at start of the project.
                            This creates a gap - this increases over the life of the project.
                            Themer goes insane at the end of the project.
                        </aside>
                    </section>
                    <section>
                        <h2>The Historical Problems</h2>
                        <ul>
                            <li class="fragment">Drupal - A million ways to die</li>
                            <li class="fragment">CSS is a one man game</li>
                            <li class="fragment">Hell is other people's CSS</li>
                            <li class="fragment">Adding things to the end of stylesheet</li>
                            <li class="fragment">Time taken to deliver a page that looks the same</li>
                            <li class="fragment">Onboarding time for new developers</li>
                        </ul>
                        <aside class="notes">
                            Historical problems we want to solve, not related to the old way.
                            Preprocess functions, theme functions, templates, ctools style plugins, display suite, etc..
                            CSS is a one man game is a myth
                            Ask devs if they have ever done this
                            Interact with PMs re page the looks the same - views news / blog example
                        </aside>
                    </section>
                </section>

                <section>
                    <h2>The Target</h2>
                    <ul>
                        <li>A development team not an individual</li>
                        <li>An efficient workflow</li>
                        <li>Deliver amazing results and value each sprint</li>
                    </ul>
                    <aside class="notes">
                        Link last point to the old way gap - this is just the opposite to the problems
                    </aside>
                </section>

                <section>
                    <section>
                        <h2>Where to start?</h2>
                    </section>
                    <section>
                        <h2>Sprint 0</h2>
                        <ul>
                            <li>Theme setup</li>
                            <li>Drupal's CSS / markup</li>
                            <li>CSS Methodology / Architecture</li>
                            <li>Documentation</li>
                            <li>Automation</li>
                            <li>Assets</li>
                            <li>Testing</li>
                            <li>Definition of done</li>
                            <li>Team structure</li>
                        </ul>
                        <aside class="notes">
                            Explain the checklist.
                            Explain the PM's role / awareness for devs.
                            Clarify it's making decisions not always developing.
                        </aside>
                    </section>
                    <section>
                        <h2>CSS Foundations</h2>
                        <ul>
                            <li>SASS</li>
                            <li>SMACSS / BEM</li>
                        </ul>
                        <aside class="notes">
                            Talk about responsibilities of the leaders.
                            Interact with crowd, get people to stand up if they are front end
                            devs, sit down if they don't use a preprocessor.
                            Mention references at end of talk, briefly cover smaccs.
                            SMACCS - this is the bit where we build something and
                            tell drupal about it.
                            Talk about pattern libraries / components.
                            Talks about folder structure scaffold
                        </aside>
                    </section>
                    <section>
                        <h2>Coding standards</h2>
                        <p class="fragment">Drupal has CSS coding standards</p>
                        <p class="fragment">The rest of the web has coding standards</p>
                        <p class="fragment">There are tools to help you enforce coding standards</p>
                        <aside class="notes">
                            Most people know the php coding standards
                            Things like line length, spacing, naming conventions.
                            It is there for consistency - most historical problems are there
                            due to inconsistency or bad css.
                            Learn from sass coding standards. Again, we are building
                            something and telling drupal about it - so learn from
                            the other 98%
                        </aside>
                    </section>
                    <section>
                        <h2>Will my team mates understand this?</h2>
                        <aside class="notes">
                            Project readme is essential.
                            All setup info, e.g bundler / npm need to be explicit.
                            Don't assume everybody will know.
                            Don't be afraid to point out the obvious. E.g. I can't
                            remember how to compile less files?
                        </aside>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Documenting CSS</h2>
                        <img src="assets/documentation.png">
                        <aside class="notes">
                            PHP Tell the why, not what.
                            CSS Tell the what / when / how / why / where and why.
                            Story about generating html from css.
                        </aside>
                    </section>

                    <section>
                        <h2>SassDoc</h2>
                    </section>

                    <section data-background="assets/sassdocexample.mp4"></section>

                    <section>
                        <h2>Hologram syntax</h2>
                        <pre><code data-trim>
/*doc
---
title: Alert
name: alert
category: basics
---
I am a comment
```html_example
<div class="alert">I am the example code</div>
```
*/
                        </code></pre>
                        <aside class="notes">
                            Explain parent / category relationship.
                            Explain how to set up and what you will show next.
                        </aside>
                    </section>

                    <section data-background-video="assets/hologramexample.mp4">
                    </section>

                    <section>
                        <h2>PatternLab</h2>
                        <aside class="notes">
                            talk about how we've used it.
                            plug github repo
                            talk about how it might impact d8
                        </aside>
                    </section>

                    <section data-background-video="assets/patternlab.mp4"></section>

                    <section>
                        <h2>Benefits</h2>
                        <ul>
                            <li class="fragment">Visibility within the dev team</li>
                            <li class="fragment">Visibility for the client</li>
                            <li class="fragment">You can test the style guide</li>
                            <li class="fragment">You can theme without Drupal</li>
                        </ul>
                        <aside class="notes">
                            Give team benefit example.
                            Give estimation / double checking with client example re forms
                            Regression testing / responsive testing
                            Briefly mention Gary / bringing in a front end dev. Explain
                            that is a possibility, not what happened.
                        </aside>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Sprint 1 onwards...</h2>
                        <aside class="notes">
                            We can start themeing / building css without drupal markup
                        </aside>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>What we did wrong</h2>
                        <h3>3 User stories</h3>
                        <ul>
                            <li>Theme: no dependency</li>
                            <li>Functionality: no dependency</li>
                            <li>Integrate: dependent on both</li>
                        </ul>
                        <aside class="notes">
                            Talk about ticket structure / child tasks
                            Give examples of different stages of the project
                            (e.g kickoff through to ecommerce)
                        </aside>
                    </section>
                    <section>
                        <h2>What we did right</h2>
                        <h3>1 User story - up to 3 sub tasks</h3>
                        <ul>
                            <li>Theme</li>
                            <li>Functionality</li>
                            <li>Integrate</li>
                        </ul>
                        <aside class="notes">
                            Talk about how PO can perceive this
                        </aside>
                    </section>

                    <section>
                        <h2>The new way</h2>
                        <img class="stretch" src="assets/new-way.svg" />
                        <aside class="notes">
                            The gap is smaller, it should never go over one sprint.
                        </aside>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Theme tickets</h2>
                        <ul>
                            <li>Look to the style guide for existing styles</li>
                            <li>Estimate new components / prototype</li>
                        </ul>
                        <aside class="notes">
                            Bring up previous story - this is agile, client might be happy
                            to reuse than to create extra work.
                            Talk about whose job it is to estimate components
                        </aside>
                    </section>
                    <section>
                        <h2>Prototyping inside Drupal</h2>
                        <ul>
                            <li class="fragment">Not tied to functionality</li>
                            <li class="fragment">Designer can sign off mid sprint</li>
                            <li class="fragment">HTML / CSS is integrated once signed off <span class="fragment">(and functionality is developed)</span></li>
                        </ul>
                        <aside class="notes">
                            Prototyping does not mean throwing your work away or duplicate effort.
                            Same CSS is used as its within the website.
                            Give example of building something quickly in the first sprint.
                            Simple module that is essentially a serious of page callbacks, templates and a theme function.
                            Not tied to functionality: unblocks the themer and reinforces good practise to not rely on build classes
                            Interactive / responsive elements clarified in browser during the sprint
                        </aside>
                    </section>

                    <section>
                        <pre><code data-trim>
/**
* Implements hook_menu().
*/
  function sage_statics_menu() {
  $items = array();
  $items['statics/%'] = array(
    'page callback' => 'sage_statics_page',
    'page arguments' => array(1),
    'access arguments' => array('access content'),
  );
  return $items;
}
                        </code></pre>
                    </section>

                    <section>
                        <pre><code data-trim>
/**
* Page callback: Statics pages
*/
function sage_statics_page($page) {
  switch ($page) {
    case SageStatics::PAGE_BOOK_PRODUCT:
    return theme(SageStatics::THEME_BOOK_PRODUCT);

    // etc...
    }
}
                        </code></pre>
                    </section>
                </section>

                <section>
                    <h2>Development tickets</h2>
                    <p>(Mostly) Unchanged</p>
                    <aside class="notes">
                        Explain communication with themer, possibly picking
                        out classes if it is simple enough.
                        Make sure all data is available for the front end.
                    </aside>
                </section>

                <section>
                    <section>
                        <h2>Integration tickets</h2>
                        <ul>
                            <li>Available when theme and dev work is complete</li>
                            <li>Can be shared amongst the team</li>
                        </ul>
                        <aside class="notes">
                            Typically just merging the markup from the statics into the actual theme.
                        </aside>
                    </section>
                    <section>
                        <h2>Option 1: Fuglies</h2>
                        <pre><code data-trim>
.component,
%component {
  content: 'component';

  &--variant {
    content: 'variant';
  }

  &__element {
    content: 'element';
  }
}

// Fugly selectors.
.my-fugly-selector {
  @extend %component__element;
}
                        </code></pre>
                        <p><a href="https://gist.github.com/JohnAlbin/b4329a2a4fb4a5caf1f2">Source: https://gist.github.com/JohnAlbin/b4329a2a4fb4a5caf1f2</a></p>
                    </section>
                    <section>
                        <h2>Option 2: Preprocessing</h2>
                    </section>
                    <section>
                        <h2>AbstractThemeProcessor</h2>

                        <pre><code data-trim>
abstract class AbstractThemeProcessor {
  /**
  * @var array
  */
  private $vars;
  /**
  * @param array $vars
  */
  private function __construct(&$vars) {
    $this->vars = &$vars;
    if ($this->isApplicable()) {
      $this->execute();
    }
  }
  /**
  * @param array $vars
  * @return static
  */
  public static function process(&$vars) {
    return new static($vars);
  }
  /**
  * @return mixed
  */
  abstract public function execute();
  /**
  * @return bool
  */
  abstract public function isApplicable();
}
                        </code></pre>
                    </section>
                    <section>
                        <h2>Article Processor</h2>
                        <pre><code data-trim>
class ArticleNodeProcessor extends AbstractNodeProcessor {
  // Example variable.
  const VAR_EXAMPLE = 'example';
  const VAR_EXAMPLE_FROM_NODE = 'example_node';
  /**
  * {@inheritDoc}
  */
  public function isApplicable() {
    return $this->isNodeType(ArticleController::getClassEntityBundle());
  }
  /**
  * {@inheritDoc}
  */
  public function execute() {
    $this->articleController = example_article_factory()->initWithEntity($this->getVar('node'));
    $this->addExtraDisplayItems();
  }
  /**
  * Add extra display items.
  */
  public function addExtraDisplayItems() {
    $this->setVar(self::VAR_EXAMPLE, 'Variable value');
    $this->setVar(self::VAR_EXAMPLE_FROM_NODE, $this->articleController->getExampleValue());
  }
}
                        </code></pre>
                    </section>
                    <section>
                        <pre><code data-trim>
/**
* Implements template_preprocess_node().
*/
function example_preprocess_node(&$vars) {
  ArticleNodeProcessor::process($vars);
  ArticleNodeTeaserProcessor::process($vars);ÃŸ
  BlogNodeProcessor::process($vars);
  CarouselItemNodeProcessor::process($vars);
}
                        </code></pre>
                    </section>
                    <section>
                        <h2>Both?</h2>
                    </section>
                </section>

                <section>
                    <section data-background="firebrick">
                        <h2>Another Problem</h2>
                        <blockquote class="fragment">"That hover colour isn't right"</blockquote>
                        <blockquote class="fragment">"That slide transition is too slow"</blockquote>
                        <aside class="notes">
                            Build up the story with example of complex backend development.
                        </aside>
                    </section>
                    <section>
                        <h2>Feedback loop</h2>
                        <img src="assets/feedback-loop-1.svg">
                    </section>
                    <section>
                        <h2>Early Feedback</h2>
                        <img src="assets/feedback-loop-2.svg">
                    </section>
                </section>

                <section>
                    <h2>@todo: TEST!</h2>
                    <aside>
                        Refactoring will happen often.
                    </aside>
                </section>

                <section data-background="papayawhip">
                    <h2>Questions?</h2>
                    <ul>
                        <li>Mail: eric.smith@cameronandwilding.com</li>
                        <li>Twitter: ericgsmith</li>
                    </ul>
                    <div><img src="assets/candw.png" class="reset-img" /></div>
                </section>

                <section>
                    <section>
                        <h2>@see: Sass</h2>
                        <ul>
                            <li><a href="http://sass-lang.com/">Sass</a></li>
                            <li><a href="http://compass-style.org/">Compass</a></li>
                        </ul>
                    </section>
                    <section>
                        <h2>@see: Design components</h2>
                        <ul>
                            <li><a href="https://smacss.com/">SMACSS</a></li>
                            <li><a href="http://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/">MindBEMding</a></li>
                            <li><a href="https://www.youtube.com/watch?v=0ulC_UiObS0">Managing Complex Projects With Design Components</a></li>
                        </ul>
                    </section>
                    <section>
                        <h2>@see: Coding standards</h2>
                        <ul>
                            <li><a href="https://www.drupal.org/node/1886770">CSS coding standards</a></li>
                            <li><a href="https://github.com/necolas/idiomatic-css">Principles of writing consistent, idiomatic CSS</a></li>
                            <li><a href="http://cssguidelin.es/">High-level advice and guidelines for writing sane, manageable, scalable CSS</a></li>
                            <li><a href="http://sass-guidelin.es/">An opinionated styleguide for writing sane, maintainable and scalable Sass</a></li>
                        </ul>
                    </section>
                    <section>
                        <h2>@see: Style guides</h2>
                        <ul>
                            <li><a href="https://github.com/trulia/hologram">Hologram</a></li>
                            <li><a href="https://github.com/davidhund/styleguide-generators">An overview of Pattern Library Generators</a></li>
                        </ul>
                    </section>
                </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none
                // Optional reveal.js plugins
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
			});

		</script>

	</body>
</html>
